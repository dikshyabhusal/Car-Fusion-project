{% extends 'master.html' %}

{% block title %}Vehicles{% endblock title %}
{%load static%}
<link rel="stylesheet" href="{%static 'style.css'%}">
{% block content %}
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
    }

    .container {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
    }

    h2 {
        text-align: center;
        color: #333;
    }

    form {
        display: flex;
        flex-direction: column;
    }

    label {
        margin-bottom: 8px;
        font-weight: bold;
    }

    input[type="text"],
    input[type="email"],
    input[type="number"],
    input[type="date"],
    select {
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    input[type="submit"] {
        padding: 12px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    input[type="submit"]:hover {
        background-color: #218838;
    }

    @media (max-width: 600px) {
        .container {
            padding: 15px;
        }

        h2 {
            font-size: 1.5em;
        }
    }
</style>
<form action="{% url 'pay_now' %}" method="POST">
    {% csrf_token %}
    <label for="name">Full Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="phone">Phone Number:</label>
    <input type="text" id="phone" name="phone" required>

    <label for="car">Car Model:</label>
    <select id="car" name="car" required>
        <option value="SUV">SUV</option>
        <option value="Sedan">Sedan</option>
        <option value="Hatchback">Hatchback</option>
    </select>

    <label for="days">Number of Days:</label>
    <input type="number" id="days" name="days_for_rent" min="1" required>

    <label for="date">Pickup Date:</label>
    <input type="date" id="date" name="pickup_date" required>

    <input type="submit" value="Book Now">
</form>
    <script>

    function calculate(){
        var select = document.getElementById("cars11");
        var option = select.value;
        var rent = 0;
        if(option == "Renault"){
            rent = 2000;
        }
        else if(option == "Alto 800"){
        rent = 700;
        }
        else if(option == "Innova Crysta"){
        rent = 3500;
        }
        else if(option == "Chevy Traverse"){
        rent = 3000;
        }
        else if(option == "BMW X5"){
        rent = 10000;
        }
        else if(option == "Honda City"){
        rent = 2500;
        }
        else if(option == "Mercedes Benz"){
        rent = 40000;
        }
        else if(option == "Swift Dezire"){
        rent = 1000;
        }
        else if(option == "KIA"){
        rent = 800;
        }
        else{
        rent = 0;
        }
        var rent1 = parseInt(rent);
        var d1 = document.getElementById('d11');
        var d2 = d1.querySelector('#dayss');
        var d3 = Number(d2.value);
        var total = rent * d3;

        var num = document.getElementById('rentsec');
        var num1 = num.querySelector("span");
        num1.textContent = total;

        var name1 = document.getElementById("billname").value;
        var name2 = document.getElementById("n1");
        var name3 = name2.querySelector("span");
        name3.innerHTML = name1;

        var loc_frm1 = document.getElementById("fl").value;
        var loc_frm2 = document.getElementById("l1");
        var loc_frm3 = loc_frm2.querySelector("span");
        loc_frm3.innerHTML = loc_frm1;

        var loc_to1 = document.getElementById("tl").value;
        var loc_to2 = document.getElementById("l2");
        var loc_to3 = loc_to2.querySelector("span");
        loc_to3.innerHTML = loc_to1;

        var da1 = document.getElementById("date").value;
        var da2 = document.getElementById("d1");
        var da3 = da2.querySelector("span");
        da3.innerHTML = da1;

        var dy1 = document.getElementById('d2');
        var dy2 = dy1.querySelector("span");
        dy2.innerHTML = d3;

        var carn1 = document.getElementById('crs1');
        var carn2 = carn1.querySelector("span");
        carn2.innerHTML = option;

        var select1 = document.getElementById("color1");
        var option1 = select1.value;

        var carc1 = document.getElementById('crs2');
        var carc2 = carc1.querySelector("span");
        carc2.innerHTML = option1;

        var tp = document.getElementById("printThis")
        var tp1 = tp.querySelector(".p1")
        var tp2 = tp1.querySelector("span");
        tp2.innerHTML = total;
    }

    document.getElementById("btnPrint").onclick = function () {
        printElement(document.getElementById("printThis"));
    }

function printElement(elem) {
    var domClone = elem.cloneNode(true);
    
    var $printSection = document.getElementById("printSection");
    
    if (!$printSection) {
        var $printSection = document.createElement("div");
        $printSection.id = "printSection";
        document.body.appendChild($printSection);
    }
    
    $printSection.innerHTML = "";
    $printSection.appendChild(domClone);
    window.print();
}
</script>
{% endblock %}